import{d as k,r as v,o as y,w as L,_ as f,c as r,a as P,b as T,e as s,t as d,F as D,f as M,u as R,g as V,h as x,i,j as C,k as E}from"./app-DXET4-Kw.js";const N={class:"news-container"},b={key:0,class:"post-detail"},B={class:"post-date"},H=["innerHTML"],O={key:1},S={class:"posts-list"},j=["onClick"],I={class:"post-date"},$=["innerHTML"],A=k({__name:"NewsView",setup(F){const a=v([]),o=v(null),c=R(),g=V();y(async()=>{await p(),_()}),L(()=>c.params.slug,async e=>{a.value.length===0&&await p(),_()});function _(){c.params.slug?(o.value=a.value.find(e=>e.slug===c.params.slug)||null,o.value||console.error("Post not found for slug:",c.params.slug)):o.value=null}async function p(){try{const n=Object.entries(Object.assign({"/posts/2025-05-10-welcome.md":()=>f(()=>import("./2025-05-10-welcome-Bh_jHEym.js"),[]),"/posts/2025-05-15-second-post.md":()=>f(()=>import("./2025-05-15-second-post-CYNvmDqR.js"),[])})).map(async([l,t])=>{const u=await t(),h=(l.split("/").pop()||"").replace(/\.md$/,"");return{title:u.frontmatter.title,date:u.frontmatter.date,slug:h,content:u.default}});a.value=await Promise.all(n),a.value.sort((l,t)=>new Date(t.date).getTime()-new Date(l.date).getTime())}catch(e){console.error("Error loading posts:",e)}}function w(e){g.push(`/news/${e}`)}function m(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}return(e,n)=>{const l=x("RouterLink");return i(),r("div",N,[o.value?(i(),r("div",b,[P(l,{to:"/news",class:"back-link"},{default:T(()=>n[0]||(n[0]=[C("← Back to all posts")])),_:1}),s("h1",null,d(o.value.title),1),s("div",B,d(m(o.value.date)),1),s("div",{class:"post-content",innerHTML:o.value.content},null,8,H)])):(i(),r("div",O,[s("div",S,[(i(!0),r(D,null,M(a.value,t=>(i(),r("div",{key:t.slug,class:"post-item",onClick:u=>w(t.slug)},[s("h2",null,d(t.title),1),s("div",I,d(m(t.date)),1),s("div",{class:"post-excerpt",innerHTML:t.content.split("</p>")[0]+"</p>"},null,8,$),n[1]||(n[1]=s("div",{class:"read-more"},"Read more →",-1))],8,j))),128))])]))])}}}),z=E(A,[["__scopeId","data-v-9d4d51aa"]]);export{z as default};
