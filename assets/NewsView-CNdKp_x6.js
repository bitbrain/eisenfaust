import{d as k,r as p,o as y,w as L,_ as P,c as l,a as D,b as T,e as n,t as u,F as M,f as x,u as C,g as V,h as b,i,j as E,k as N}from"./app-B_DYxvEq.js";const R={class:"news-container"},H={key:0,class:"loading"},j={key:1,class:"post-detail"},B={class:"post-date"},I=["innerHTML"],O={key:2},S={class:"posts-list"},$=["onClick"],F={class:"post-date"},z=["innerHTML"],A=k({__name:"NewsView",setup(W){const a=p([]),o=p(null),v=p(!0),d=C(),g=V();y(async()=>{await _(),m(),v.value=!1}),L(()=>d.params.slug,async e=>{a.value.length===0&&await _(),m()});async function m(){if(d.params.slug){const e=d.params.slug;a.value.length===0&&await _(),o.value=a.value.find(t=>t.slug===e)||null,o.value||console.error("Post not found for slug:",e)}else o.value=null}async function _(){try{const t=Object.entries(Object.assign({"/posts/2025-05-10-wir-sind-eisenfaust.md":()=>P(()=>import("./2025-05-10-wir-sind-eisenfaust-DxeaI5f9.js"),[])})).map(async([r,s])=>{const c=await s(),h=(r.split("/").pop()||"").replace(/\.md$/,"");return{title:c.frontmatter.title,date:c.frontmatter.date,slug:h,content:c.default}});a.value=await Promise.all(t),a.value.sort((r,s)=>new Date(s.date).getTime()-new Date(r.date).getTime())}catch(e){console.error("Error loading posts:",e)}}function w(e){g.push(`/news/${e}`)}function f(e){return new Date(e).toLocaleDateString("de-DE",{year:"numeric",month:"long",day:"numeric"})}return(e,t)=>{const r=b("RouterLink");return i(),l("div",R,[v.value?(i(),l("div",H," Lade Inhalte... ")):o.value?(i(),l("div",j,[D(r,{to:"/news",class:"back-link"},{default:T(()=>t[0]||(t[0]=[E("← Zurück zur Übersicht")])),_:1}),n("h1",null,u(o.value.title),1),n("div",B,u(f(o.value.date)),1),n("div",{class:"post-content",innerHTML:o.value.content},null,8,I)])):(i(),l("div",O,[n("div",S,[(i(!0),l(M,null,x(a.value,s=>(i(),l("div",{key:s.slug,class:"post-item",onClick:c=>w(s.slug)},[n("h2",null,u(s.title),1),n("div",F,u(f(s.date)),1),n("div",{class:"post-excerpt",innerHTML:s.content.split("</p>")[0]+"</p>"},null,8,z),t[1]||(t[1]=n("div",{class:"read-more"},"Weiterlesen →",-1))],8,$))),128))])]))])}}}),G=N(A,[["__scopeId","data-v-af295010"]]);export{G as default};
